;
; File generated by cc65 v 2.19 - Git 4f87c7c
;
	.fopt		compiler,"cc65 v 2.19 - Git 4f87c7c"
	.setcpu		"6502"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.forceimport	__STARTUP__
	.import		_pal_bg
	.import		_pal_spr
	.import		_ppu_wait_nmi
	.import		_ppu_off
	.import		_ppu_on_all
	.import		_oam_clear
	.import		_oam_spr
	.import		_pad_poll
	.import		_bank_spr
	.import		_bank_bg
	.import		_rand8
	.import		_set_rand
	.import		_vram_adr
	.import		_vram_unrle
	.import		_set_vram_buffer
	.import		_clear_vram_buffer
	.import		_get_pad_new
	.import		_get_frame_count
	.import		_gray_line
	.export		_RoundSprL
	.export		_RoundSprR
	.export		_CoinSpr
	.export		_BigCoinSpr
	.export		_CoinHud
	.export		_EnemyChaseSpr
	.export		_EnemyBounceSpr
	.export		_EnemyBounceSpr2
	.export		_pad1
	.export		_pad1_new
	.export		_game_state
	.export		_current_level
	.export		_temp_byte_1
	.export		_temp_byte_2
	.export		_temp_byte_3
	.export		_temp_byte_4
	.export		_players
	.export		_balls
	.export		_palette
	.export		_playfield_screen
	.export		_init_game
	.export		_move_player
	.export		_move_balls
	.export		_draw_player
	.export		_draw_balls
	.export		_main

.segment	"RODATA"

_RoundSprL:
	.byte	$FF
	.byte	$FC
	.byte	$02
	.byte	$00
	.byte	$07
	.byte	$FC
	.byte	$03
	.byte	$00
	.byte	$FF
	.byte	$04
	.byte	$12
	.byte	$00
	.byte	$07
	.byte	$04
	.byte	$13
	.byte	$00
	.byte	$80
_RoundSprR:
	.byte	$FF
	.byte	$FC
	.byte	$00
	.byte	$00
	.byte	$07
	.byte	$FC
	.byte	$01
	.byte	$00
	.byte	$FF
	.byte	$04
	.byte	$10
	.byte	$00
	.byte	$07
	.byte	$04
	.byte	$11
	.byte	$00
	.byte	$80
_CoinSpr:
	.byte	$FF
	.byte	$FF
	.byte	$20
	.byte	$01
	.byte	$FF
	.byte	$07
	.byte	$30
	.byte	$01
	.byte	$80
_BigCoinSpr:
	.byte	$FF
	.byte	$FF
	.byte	$21
	.byte	$01
	.byte	$FF
	.byte	$07
	.byte	$31
	.byte	$01
	.byte	$07
	.byte	$FF
	.byte	$22
	.byte	$01
	.byte	$07
	.byte	$07
	.byte	$32
	.byte	$01
	.byte	$80
_CoinHud:
	.byte	$00
	.byte	$00
	.byte	$23
	.byte	$01
	.byte	$08
	.byte	$00
	.byte	$24
	.byte	$01
	.byte	$00
	.byte	$08
	.byte	$33
	.byte	$01
	.byte	$08
	.byte	$08
	.byte	$34
	.byte	$01
	.byte	$80
_EnemyChaseSpr:
	.byte	$FF
	.byte	$FF
	.byte	$04
	.byte	$02
	.byte	$07
	.byte	$FF
	.byte	$05
	.byte	$02
	.byte	$FF
	.byte	$07
	.byte	$14
	.byte	$02
	.byte	$07
	.byte	$07
	.byte	$15
	.byte	$02
	.byte	$80
_EnemyBounceSpr:
	.byte	$FF
	.byte	$FF
	.byte	$06
	.byte	$03
	.byte	$07
	.byte	$FF
	.byte	$07
	.byte	$03
	.byte	$FF
	.byte	$07
	.byte	$16
	.byte	$03
	.byte	$07
	.byte	$07
	.byte	$17
	.byte	$03
	.byte	$80
_EnemyBounceSpr2:
	.byte	$FF
	.byte	$FF
	.byte	$04
	.byte	$03
	.byte	$07
	.byte	$FF
	.byte	$05
	.byte	$03
	.byte	$FF
	.byte	$07
	.byte	$14
	.byte	$03
	.byte	$07
	.byte	$07
	.byte	$15
	.byte	$03
	.byte	$80
_palette:
	.byte	$0F
	.byte	$00
	.byte	$10
	.byte	$30
	.byte	$0F
	.byte	$01
	.byte	$21
	.byte	$31
	.byte	$0F
	.byte	$06
	.byte	$16
	.byte	$26
	.byte	$0F
	.byte	$09
	.byte	$19
	.byte	$29
_playfield_screen:
	.byte	$01
	.byte	$00
	.byte	$01
	.byte	$40
	.byte	$41
	.byte	$43
	.byte	$01
	.byte	$1B
	.byte	$42
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$61
	.byte	$53
	.byte	$01
	.byte	$1B
	.byte	$62
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$0F
	.byte	$08
	.byte	$19
	.byte	$08
	.byte	$0F
	.byte	$00
	.byte	$1E
	.byte	$1E
	.byte	$00
	.byte	$06
	.byte	$0F
	.byte	$08
	.byte	$04
	.byte	$15
	.byte	$36
	.byte	$00
	.byte	$1E
	.byte	$1E
	.byte	$00
	.byte	$16
	.byte	$06
	.byte	$12
	.byte	$15
	.byte	$08
	.byte	$00
	.byte	$01
	.byte	$03
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$0F
	.byte	$0C
	.byte	$19
	.byte	$08
	.byte	$16
	.byte	$00
	.byte	$1E
	.byte	$1E
	.byte	$00
	.byte	$17
	.byte	$04
	.byte	$15
	.byte	$0A
	.byte	$08
	.byte	$17
	.byte	$00
	.byte	$1E
	.byte	$1E
	.byte	$00
	.byte	$00
	.byte	$1E
	.byte	$01
	.byte	$07
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$40
	.byte	$00
	.byte	$01
	.byte	$1B
	.byte	$50
	.byte	$00
	.byte	$00
	.byte	$51
	.byte	$53
	.byte	$01
	.byte	$1B
	.byte	$52
	.byte	$00
	.byte	$01
	.byte	$40
	.byte	$A0
	.byte	$01
	.byte	$07
	.byte	$22
	.byte	$00
	.byte	$01
	.byte	$05
	.byte	$88
	.byte	$22
	.byte	$00
	.byte	$01
	.byte	$05
	.byte	$88
	.byte	$22
	.byte	$00
	.byte	$01
	.byte	$05
	.byte	$88
	.byte	$22
	.byte	$00
	.byte	$01
	.byte	$05
	.byte	$88
	.byte	$A2
	.byte	$A0
	.byte	$01
	.byte	$05
	.byte	$A8
	.byte	$5D
	.byte	$5F
	.byte	$01
	.byte	$05
	.byte	$57
	.byte	$00
	.byte	$01
	.byte	$06
	.byte	$00
	.byte	$01
	.byte	$00

.segment	"BSS"

.segment	"ZEROPAGE"
_pad1:
	.res	1,$00
_pad1_new:
	.res	1,$00
_game_state:
	.res	1,$00
_current_level:
	.res	1,$00
_temp_byte_1:
	.res	1,$00
_temp_byte_2:
	.res	1,$00
_temp_byte_3:
	.res	1,$00
_temp_byte_4:
	.res	1,$00
.segment	"BSS"
_players:
	.res	4,$00
_balls:
	.res	40,$00

; ---------------------------------------------------------------
; void __near__ init_game (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_init_game: near

.segment	"CODE"

;
; pal_bg(palette);
;
	lda     #<(_palette)
	ldx     #>(_palette)
	jsr     _pal_bg
;
; pal_spr(palette);
;
	lda     #<(_palette)
	ldx     #>(_palette)
	jsr     _pal_spr
;
; vram_adr(NAMETABLE_A);
;
	ldx     #$20
	lda     #$00
	jsr     _vram_adr
;
; vram_unrle(playfield_screen);
;
	lda     #<(_playfield_screen)
	ldx     #>(_playfield_screen)
	jsr     _vram_unrle
;
; set_rand(get_frame_count());
;
	jsr     _get_frame_count
	jsr     _set_rand
;
; game_state = GAME_STATE_PLAYING;
;
	lda     #$01
	sta     _game_state
;
; current_level = 1;
;
	sta     _current_level
;
; players[0].x = 0x86;
;
	lda     #$86
	sta     _players
;
; players[0].y = 0x66;
;
	lda     #$66
	sta     _players+1
;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
	lda     #$00
	sta     _temp_byte_1
L000A:	lda     _temp_byte_1
	cmp     _current_level
	bcs     L000B
;
; balls[temp_byte_1].x = rand8();
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	jsr     pushax
	jsr     _rand8
	ldy     #$00
	jsr     staspidx
;
; balls[temp_byte_1].y = rand8();
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	jsr     pushax
	jsr     _rand8
	ldy     #$01
	jsr     staspidx
;
; balls[temp_byte_1].x_velocity = BALL_SPEED;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$01
	ldy     #$02
	sta     (ptr1),y
;
; balls[temp_byte_1].y_velocity = BALL_SPEED;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$01
	iny
	sta     (ptr1),y
;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
	inc     _temp_byte_1
	jmp     L000A
;
; for (temp_byte_1 = current_level; temp_byte_1 < MAX_BALLS; ++temp_byte_1) {
;
L000B:	lda     _current_level
	sta     _temp_byte_1
L000C:	lda     _temp_byte_1
	cmp     #$0A
	bcs     L0007
;
; balls[temp_byte_1].x = 0xff;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$FF
	ldy     #$00
	sta     (ptr1),y
;
; for (temp_byte_1 = current_level; temp_byte_1 < MAX_BALLS; ++temp_byte_1) {
;
	inc     _temp_byte_1
	jmp     L000C
;
; }
;
L0007:	rts

.endproc

; ---------------------------------------------------------------
; void __near__ move_player (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_move_player: near

.segment	"CODE"

;
; temp_byte_1 = players[0].x;
;
	lda     _players
	sta     _temp_byte_1
;
; if (pad1 & PAD_LEFT) {
;
	lda     _pad1
	and     #$02
	beq     L0013
;
; temp_byte_1 -= PLAYER_SPEED;
;
	lda     _temp_byte_1
	sec
	sbc     #$03
	sta     _temp_byte_1
;
; if (temp_byte_1 <= PLAYFIELD_LEFT_WALL) {
;
	cmp     #$0F
	bcs     L0014
;
; players[0].x = PLAYFIELD_LEFT_WALL;
;
	lda     #$0E
;
; } else {
;
	jmp     L0010
;
; } else if (pad1 & PAD_RIGHT) {
;
L0013:	lda     _pad1
	and     #$01
	beq     L0015
;
; temp_byte_1 += PLAYER_SPEED;
;
	lda     #$03
	clc
	adc     _temp_byte_1
	sta     _temp_byte_1
;
; if (temp_byte_1 >= PLAYFIELD_RIGHT_WALL) {
;
	cmp     #$EA
	bcc     L0014
;
; players[0].x = PLAYFIELD_RIGHT_WALL;
;
	lda     #$EA
;
; } else {
;
	jmp     L0010
;
; players[0].x = temp_byte_1;
;
L0014:	lda     _temp_byte_1
L0010:	sta     _players
;
; temp_byte_1 = players[0].y;
;
L0015:	lda     _players+1
	sta     _temp_byte_1
;
; if (pad1 & PAD_DOWN) {
;
	lda     _pad1
	and     #$04
	beq     L0017
;
; temp_byte_1 += PLAYER_SPEED;
;
	lda     #$03
	clc
	adc     _temp_byte_1
	sta     _temp_byte_1
;
; if (temp_byte_1 >= PLAYFIELD_BOTTOM_WALL) {
;
	cmp     #$B1
	bcc     L0018
;
; players[0].y = PLAYFIELD_BOTTOM_WALL;
;
	lda     #$B1
;
; } else {
;
	jmp     L0011
;
; } else if (pad1 & PAD_UP) {
;
L0017:	lda     _pad1
	and     #$08
	beq     L000F
;
; temp_byte_1 -= PLAYER_SPEED;
;
	lda     _temp_byte_1
	sec
	sbc     #$03
	sta     _temp_byte_1
;
; if (temp_byte_1 <= PLAYFIELD_TOP_WALL) {
;
	cmp     #$16
	bcs     L0018
;
; players[0].y = PLAYFIELD_TOP_WALL;
;
	lda     #$15
;
; } else {
;
	jmp     L0011
;
; players[0].y = temp_byte_1;
;
L0018:	lda     _temp_byte_1
L0011:	sta     _players+1
;
; }
;
L000F:	rts

.endproc

; ---------------------------------------------------------------
; void __near__ move_balls (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_move_balls: near

.segment	"CODE"

;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
	lda     #$00
	sta     _temp_byte_1
L000E:	lda     _temp_byte_1
	cmp     _current_level
	bcc     L0013
;
; }
;
	rts
;
; temp_byte_2 = balls[temp_byte_1].x;
;
L0013:	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	sta     ptr1
	txa
	clc
	adc     #>(_balls)
	sta     ptr1+1
	ldy     #<(_balls)
	lda     (ptr1),y
	sta     _temp_byte_2
;
; temp_byte_2 += balls[temp_byte_1].x_velocity;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	ldy     #$02
	jsr     ldaidx
	clc
	adc     _temp_byte_2
	sta     _temp_byte_2
;
; if (temp_byte_2 >= PLAYFIELD_RIGHT_WALL) {
;
	cmp     #$EA
	ldx     #$00
	bcc     L000F
;
; balls[temp_byte_1].x = PLAYFIELD_RIGHT_WALL;
;
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$EA
	ldy     #$00
	sta     (ptr1),y
;
; balls[temp_byte_1].x_velocity *= -1;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	sta     sreg
	stx     sreg+1
	ldy     #$02
	jsr     ldaidx
	eor     #$FF
	clc
	adc     #$01
	sta     (sreg),y
;
; } else if (temp_byte_2 <= PLAYFIELD_LEFT_WALL) {
;
	jmp     L0009
L000F:	lda     _temp_byte_2
	cmp     #$0F
	bcs     L0010
;
; balls[temp_byte_1].x = PLAYFIELD_LEFT_WALL;
;
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$0E
	ldy     #$00
	sta     (ptr1),y
;
; balls[temp_byte_1].x_velocity *= -1;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	sta     sreg
	stx     sreg+1
	ldy     #$02
	jsr     ldaidx
	eor     #$FF
	clc
	adc     #$01
	sta     (sreg),y
;
; } else {
;
	jmp     L0009
;
; balls[temp_byte_1].x = temp_byte_2;
;
L0010:	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     _temp_byte_2
	ldy     #$00
	sta     (ptr1),y
;
; temp_byte_2 = balls[temp_byte_1].y;
;
L0009:	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	ldy     #$01
	lda     (ptr1),y
	sta     _temp_byte_2
;
; temp_byte_2 += balls[temp_byte_1].y_velocity;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	ldy     #$03
	jsr     ldaidx
	clc
	adc     _temp_byte_2
	sta     _temp_byte_2
;
; if (temp_byte_2 >= PLAYFIELD_BOTTOM_WALL) {
;
	cmp     #$B1
	ldx     #$00
	bcc     L0011
;
; balls[temp_byte_1].y = PLAYFIELD_BOTTOM_WALL;
;
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$B1
	ldy     #$01
	sta     (ptr1),y
;
; balls[temp_byte_1].y_velocity *= -1;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	sta     sreg
	stx     sreg+1
	ldy     #$03
	jsr     ldaidx
	eor     #$FF
	clc
	adc     #$01
	sta     (sreg),y
;
; } else if (temp_byte_2 <= PLAYFIELD_TOP_WALL) {
;
	jmp     L0004
L0011:	lda     _temp_byte_2
	cmp     #$16
	bcs     L0012
;
; balls[temp_byte_1].y = PLAYFIELD_TOP_WALL;
;
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     #$15
	ldy     #$01
	sta     (ptr1),y
;
; balls[temp_byte_1].y_velocity *= -1;
;
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	tay
	txa
	adc     #>(_balls)
	tax
	tya
	sta     sreg
	stx     sreg+1
	ldy     #$03
	jsr     ldaidx
	eor     #$FF
	clc
	adc     #$01
	sta     (sreg),y
;
; } else {
;
	jmp     L0004
;
; balls[temp_byte_1].y = temp_byte_2;
;
L0012:	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	lda     _temp_byte_2
	ldy     #$01
	sta     (ptr1),y
;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
L0004:	inc     _temp_byte_1
	jmp     L000E

.endproc

; ---------------------------------------------------------------
; void __near__ draw_player (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_draw_player: near

.segment	"CODE"

;
; oam_spr(players[0].x, players[0].y, 0x14, 0);
;
	jsr     decsp3
	lda     _players
	ldy     #$02
	sta     (sp),y
	lda     _players+1
	dey
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	tya
	jmp     _oam_spr

.endproc

; ---------------------------------------------------------------
; void __near__ draw_balls (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_draw_balls: near

.segment	"CODE"

;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
	lda     #$00
	sta     _temp_byte_1
L0006:	lda     _temp_byte_1
	cmp     _current_level
	bcs     L0003
;
; oam_spr(balls[temp_byte_1].x, balls[temp_byte_1].y, 0x4, 0);
;
	jsr     decsp3
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	sta     ptr1
	txa
	clc
	adc     #>(_balls)
	sta     ptr1+1
	ldy     #<(_balls)
	lda     (ptr1),y
	ldy     #$02
	sta     (sp),y
	ldx     #$00
	lda     _temp_byte_1
	jsr     aslax2
	clc
	adc     #<(_balls)
	sta     ptr1
	txa
	adc     #>(_balls)
	sta     ptr1+1
	dey
	lda     (ptr1),y
	sta     (sp),y
	lda     #$04
	dey
	sta     (sp),y
	tya
	jsr     _oam_spr
;
; for (temp_byte_1 = 0; temp_byte_1 < current_level; ++temp_byte_1) {
;
	inc     _temp_byte_1
	jmp     L0006
;
; }
;
L0003:	rts

.endproc

; ---------------------------------------------------------------
; void __near__ main (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_main: near

.segment	"CODE"

;
; ppu_off();
;
	jsr     _ppu_off
;
; bank_spr(0);
;
	lda     #$00
	jsr     _bank_spr
;
; bank_bg(1);
;
	lda     #$01
	jsr     _bank_bg
;
; init_game();
;
	jsr     _init_game
;
; set_vram_buffer();
;
	jsr     _set_vram_buffer
;
; clear_vram_buffer();
;
	jsr     _clear_vram_buffer
;
; ppu_on_all();
;
	jsr     _ppu_on_all
;
; while (game_state == GAME_STATE_PLAYING) {
;
	jmp     L0008
;
; ppu_wait_nmi();
;
L0005:	jsr     _ppu_wait_nmi
;
; pad1 = pad_poll(0);
;
	lda     #$00
	jsr     _pad_poll
	sta     _pad1
;
; pad1_new = get_pad_new(0);
;
	lda     #$00
	jsr     _get_pad_new
	sta     _pad1_new
;
; clear_vram_buffer();
;
	jsr     _clear_vram_buffer
;
; move_player();
;
	jsr     _move_player
;
; move_balls();
;
	jsr     _move_balls
;
; oam_clear();
;
	jsr     _oam_clear
;
; draw_player();
;
	jsr     _draw_player
;
; draw_balls();
;
	jsr     _draw_balls
;
; gray_line();
;
	jsr     _gray_line
;
; while (game_state == GAME_STATE_PLAYING) {
;
L0008:	lda     _game_state
	cmp     #$01
	beq     L0005
;
; while (1) {
;
	jmp     L0008

.endproc

